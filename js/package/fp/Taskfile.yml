# https://taskfile.dev
version: '3'

tasks:
  default:
    aliases:
      - list
    cmd: task --list-all

  version-up:
    vars:
      BUMP:
        sh: echo -e "patch\nminor\nmajor" | fzf --prompt="Select version bump> "
    cmds:
      - bun pm version {{.BUMP}}
      - safe-chain bun run scripts/sync-jsr.ts
      - oxfmt -c ../../../.oxfmtrc.jsonc
      - git add package.json jsr.json
      - git commit -m "up @totto2727/fp $(jq -r .version package.json)"
